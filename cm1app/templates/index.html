{% extends "layout.html" %}
{% block title %}System Status{% endblock %}
{% block content %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/css/bootstrap-select.min.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/bootstrap-select.min.js"></script>
<script src="https://unpkg.com/react@16/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
<div class="container">
	<div class="page-header row">
		<div class="col">
			<h3><a href="/project_info/"><b>Real-time Coastal Monitoring</b></a></h3>
			<h6>A real-time coastal sensor network developed at the University of Hawaii at Manoa</h6>
		</div>
	</div>

	<div class="row">
		<div class="col">
			<div class="dropup show" id="site_selector_dropdown">
				<a class="btn btn-primary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					SELECT SITE...
				</a>
				<div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
					<!--a class="dropdown-item" data-site-name="poh">He'eia Fishpond</a>
					<a class="dropdown-item" data-site-name="coconut">Moku o Loʻe</a>
					<a class="dropdown-item" data-site-name="makaipier">Makai Pier</a>
					<a class="dropdown-item" data-site-name="molokai">Molokaʻi</a>
					<a class="dropdown-item" data-site-name="nomilo">Nomilo</a>
					<a class="dropdown-item" data-site-name="lanai">Lānaʻi</a>
					<a class="dropdown-item" data-site-name="waikalua">Waikalua</a>
					<a class="dropdown-item" data-site-name="smart">SMART</a>
					<a class="dropdown-item" data-site-name="lyon">Lyon</a>
					<a class="dropdown-item" data-site-name="mokauea">Mokauea</a>
					<a class="dropdown-item" data-site-name="hawaiikai">Hawaii Kai</a>
					<a class="dropdown-item" data-site-name="usa_sc">S. Carolina</a>
					<a class="dropdown-item" data-site-name="usa_ma">Massachusetts</a>
					<a class="dropdown-item" data-site-name="keawanui">Keawanui</a>
					<a class="dropdown-item" data-site-name="uhm">Mobile/Other</a>
					<a class="dropdown-item" data-site-name="staging">Staging/Dev</a-->
				</div>
			</div>
		</div>
	</div>
	
	<div class="row">
		<div class="col-xs-12 col-xs-offset-0 col-md-6 col-md-offset-0">
			<div id="table_placeholder">
				<img src="/static/uhcm/static/circleball.gif">
			</div>
		</div>

		<div class="col-xs-12 col-xs-offset-0 col-md-6 col-md-offset-0">
			<div class="d-none d-sm-block d-md-none"><hr></div>

			<h4>About this page</h4>
			<p>The table shows the status of the instruments in SMART system. Each row in the table corresponds to a sensor package (called a <em>node</em>) Click on a row to view the data from that node.</p>
			<p>To learn more about this project, click <a href="/project_info">here</a>.</p>
			
			<h5>Color scheme</h5>
			<p>
			<ul>
				<li><span class="list-group-item-danger">OFFLINE</span>: There is no recent reading from that node (e.g. during maintenance)</li>
				<li><span class="list-group-item-warning">DEGRADED</span>: Some variables are out of range (e.g. out of calibration)</li>
				<li><span class="list-group-item-secondary">DECOMMISSIONED</span>: Not expecting new data, but historical data are still accessible</li>
				<li><span class="list-group-item-success">ONLINE</span>: None of the above</li>
			</ul>
			</p>

			<h5>Know your node ID?</h5>
			<div id="node_selector_container"></div>
		</div>
	</div>
	
</div>
<script>
	site_name_map = {"poh":"He'eia Fishpond",
					"coconut":"Moku o Loʻe",
					"makaipier":"Makai Pier",
					"molokai":"Molokaʻi",
					"nomilo":"Nomilo",
					"lanai":"Lānaʻi",
					"waikalua":"Waikalua",
					"smart":"SMART",
					"lyon":"Lyon",
					"mokauea":"Mokauea",
					"hawaiikai":"Hawaii Kai",
					"usa_sc":"S. Carolina",
					"usa_ma":"Massachusetts",
					"keawanui":"Keawanui",
					"malama_maunalua":"Malama Maunalua",
					"uhm":"Mobile/Other",
					"staging":"Staging/Dev",};
</script>
<script src="/static/uhcm/static/jquery.timeago.js" type="text/javascript"></script>
<script src="/static/uhcm/static/dashboard.js" type="text/javascript"></script>
<script src="/static/uhcm/static/nodeselector.js" type="text/babel"></script>
{% endblock %}